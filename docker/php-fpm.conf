[www]
; PHP-FPM pool configuration for Railway + Tailscale

; Run as www-data user
user = www-data
group = www-data

; Listen on TCP port for nginx
listen = 127.0.0.1:9000

; Process manager settings - optimized for Railway with Tailscale
pm = dynamic
pm.max_children = 10
pm.start_servers = 4
pm.min_spare_servers = 2
pm.max_spare_servers = 6
pm.max_requests = 500
pm.process_idle_timeout = 60s

; Extended timeouts for database operations through Tailscale
request_terminate_timeout = 300s

; Log settings
access.log = /dev/null
slowlog = /dev/stderr
request_slowlog_timeout = 30s

; PHP settings
php_admin_value[max_execution_time] = 300
php_admin_value[memory_limit] = 256M
php_admin_value[default_socket_timeout] = 300
